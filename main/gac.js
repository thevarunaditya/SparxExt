const kj=V,kO=V,kM=V,kp=V,kN=V;let BASE_URL;!function(o,e){const t=V,n=V,s=V,a=V,r=k();for(;;)try{if(238019===-parseInt(t(610))/1+parseInt(t(587))/2*(-parseInt(s(460))/3)+-parseInt(s(437))/4*(-parseInt(s(439))/5)+-parseInt(a(286))/6+-parseInt(t(478))/7+-parseInt(n(324))/8+parseInt(s(364))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const loadingStates=[kj(322),kj(602),kj(507),kO(581),kp(495),kp(504),kp(611),kj(611),kM(337),kj(591),kM(591),kj(477),kj(483),kj(538),kN(489),kp(549),kN(396),kN(355),kM(325),kN(420),kj(382),kN(330),kO(330),kN(330),kN(462),kO(536),kj(570),kp(316),kM(618),kM(434),kj(434),kO(434),kN(434),kO(434),kj(434),kp(434),kj(434),kN(434),kN(434),kp(434),kM(434),kO(434),kN(434),kM(434),kp(434),kN(434),kj(434),kj(434),kO(434),kO(434),kM(434)];function k(){const o=["div._BottomBar_1wgpl_1 div","._TextField_1emtw_333","catch","themesDropdown","text-align: center; color: #4595F6; margin: 0; margin-top: 10px; cursor: pointer;","complete","_Link_1u1tt_90","bookworks","ABCDEFGHIJKLMNOPQRSTUVWXYZ","closeThemeModal","local","contains","startsWith","INCOMING.......","then","Loading.","body","type","transform","10px",'_explanationText" class="explanationText">',"join",'\n                <div id="','\n            <div id="modal-content">\n                <h1 class="modal-intro">Welcome to Sparx Helper</h1>\n                <button id="modal-continue" style="opacity: 0; transform: scale(0); transition: opacity 1s ease, transform 1s ease;">Continue</button>\n            </div>\n        ',"fixBookworks","marginBottom","Responding..",'a[href*="',"modal","splice","abort",'\n                            <div id="modal-header">\n                                <h3 class="modal-title">Other features of the extension</h3>\n                            </div>\n                            <div id="modal-content">\n                                <h2 class="modalh2">Themes</h2>\n                                <p class="modalp">Using the menu on the top right, switch between our hand-crafted themes.</p>\n                                <h2 class="modalh2">Bookworks</h2>\n                                <p class="modalp">Using the button in the bottom left of the screen, you can store your bookworks and quickly access them upon bookwork check.</p>\n                                <button id="modal-close">Close</button>\n                            </div>\n                        ',"parse","._BottomBar_1wgpl_1 > div","data-package-id","Source 3","#aBC","div:empty","none","mousemove","includes","notification","location","answerCard_","onload","translateY(10px)","Failed to upload image","INCOMING........","absolute","scale(1)","toDataURL","findIndex","Package ID not found in URL. Skipping addition.","root","110px","top","helpers/h2c.js","st@H#(@*#H","Uploading..","getTime","matches","src","/api/sparx/upload","getItem","2vLGPPJ","closeDevModal","getAttribute","brightness(0.5) blur(5px)","Solving.....","._QuestionScrollableContent_1nj91_24"," not found","name","._HiddenAt_gk0gx_1._Sm_gk0gx_12","Need help?","concat","disabled","Bookworks have been deleted.","bookworksModal","https://www.sparxmaths.uk/student/homework","Verifying..","runtime","Question element not found","a._PreviousButton_1nj91_86","bookwork","timerInterval",'\n                    <div id="modal-header">\n                        <h3 class="modal-title">How to use this extension</h3>\n                    </div>\n                    <div id="modal-content">\n                        <ol class="modalol">\n                            <li class="modalli">Open your homework</li>\n                            <li class="modalli">Click the button on the bottom left which says "Need Help?"</li>\n                            <li class="modalli">Your answer will appear shortly</li>\n                        </ol>\n                        <button id="modal-next">Next</button>\n                    </div>\n                ',"stylesheet","400309MwocSq","Solving..","#modal-content","\n                </ul>\n            ","explanation","._QuestionAnswerOnly_1emtw_54","_closeAnswerCard","selectedTheme","INCOMING..........","getURL","translateY(0)","div","block","parentElement","answer","Bookwork added!","mousedown","Adding bookwork to ","source","50px","📊❌",'_closeAnswerCard" class="closeAnswerCard" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>\n                    </svg>\n                    <div id="','<li class="changelogText"><a href="javascript:void(0)" data-theme="',"._Content_ocxs7_7","helpButton","map",'\n            <svg xmlns="http://www.w3.org/2000/svg" style="width: 1.5rem; height: 1.5rem; filter: drop-shadow(0 0 5px white);" fill="#000000" viewBox="0 0 256 256">\n                <path d="M69.12,94.15,28.5,128l40.62,33.85a8,8,0,1,1-10.24,12.29l-48-40a8,8,0,0,1,0-12.29l48-40a8,8,0,0,1,10.24,12.3Zm176,27.7-48-40a8,8,0,1,0-10.24,12.3L227.5,128l-40.62,33.85a8,8,0,1,0,10.24,12.29l48-40a8,8,0,0,0,0-12.29ZM162.73,32.48a8,8,0,0,0-10.25,4.79l-64,176a8,8,0,0,0,4.79,10.26A8.14,8.14,0,0,0,96,224a8,8,0,0,0,7.52-5.27l64-176A8,8,0,0,0,162.73,32.48Z"></path>\n            </svg>\n        ',"ga$@*&BF","resolve","observe","a$@*&BF","target","aBC","filter","message","transition",'" data-index="',"No answer found","offsetLeft","position","developmentButton","752982vqGmpL","PackageIdToTextMap has been deleted.","closeBookworksModal","15px","flex-start","/api/sparx/checkforanswer","clientHeight",'</span>\n                    <button data-package-id="',"trim",'\n          <div style="\n            border-bottom: 1px solid #e4e6e7;\n            background-color: #f4f7f9;\n            border-radius: 8px 8px 0 0;\n            padding: 5px;\n          ">\n            <h3 style="margin: 0; font-size: 16px;">Select theme:</h3>\n          </div>\n          <div style="padding: 12px;">\n            <ul style="list-style: none; padding: 0; margin: 0; margin-bottom: 10px;">\n              ',"firstChild","button.delete-package","  |  ","href","link","versionText","all","Error:","source2Button","storage","_ButtonBase_nt2r3_1 _ButtonMd_nt2r3_35 _ButtonBlue_nt2r3_76 _ButtonOutlined_nt2r3_129","head","img","charCodeAt","clientY",".mord:not(.sqrt)","removeEventListener","forEach","ceil",'\n                <div style="\n                    border-bottom: 1px solid #e4e6e7;\n                    background-color: #f4f7f9;\n                    border-radius: 8px 8px 0 0;\n                    padding: 5px;\n                ">\n                    <h3 style="margin: 0; font-size: 16px;">Changelog | v1.6</h3>\n                </div>\n                <div style="padding: 12px;">\n                    <ul style="list-style: none; padding: 0; margin: 0; margin-bottom: 10px;">\n                        <li class="changelogText">Added source 3 (as a fallback source)</li>\n                        <li class="changelogText">Fixed common bookwork issues</li>\n                        <li class="changelogText">Added a development section to fix issues (bookworks)</li>\n                        <li class="changelogText">Refined and fixed broken styles with dark mode</li>\n                        <li class="changelogText">Bookworks now suppport one more answertype</li>\n                        <li class="changelogText">Changed how sources work</li>\n                        <li class="changelogText">Sources are now easier to select + work smoother</li>\n                        <li class="changelogText">Known bugs: None! 🎉</li>\n                    </ul>\n                    <button id="closeChangelogModal">Close</button>\n                </div>\n            ',"INCOMING.........","/api/sparx/storeanswer","Element ","question_id","._QuestionInfo_5oh8x_1","packageIdToTextMap","Verifying.","Question not found","3694808EIGpzH","INCOMING.",'" class="delete-package" style="background-color: #dc3545; color: white; border: none; padding: 5px; border-radius: 4px; cursor: pointer;">DELETE</button></h4>\n                <ul style="list-style: none; padding: 0; margin: 0; margin-bottom: 10px;">\n                    ','\n          <div class="_DropdownMenuItem_1u1tt_69" role="menuitem" data-orientation="vertical" data-radix-collection-item="">\n            <span>Themes</span>\n          </div>\n        ',"dark",'\n            <div style="\n                border-bottom: 1px solid #e4e6e7;\n                background-color: #f4f7f9;\n                border-radius: 8px 8px 0 0;\n                padding: 5px;\n                position: relative;\n            ">\n                <h3 style="margin: 0; font-size: 16px;">Bookworks</h3>\n                <button id="closeBookworksModal">Close</button>\n            </div>\n            <div style="padding: 12px;">\n                <h5 style="margin: 0;font-size: 13px;font-weight: 500;opacity: 0.3;margin-bottom: 5px;margin-top: -5px;">If one of the bookworks categories looks weird, it usually fixes when back on the homeworks page</h5>\n                ',"INCOMING....",'\n                <h4 class="packageid">',"style","loadingInterval","sqrt","_ButtonBase_nt2r3_1 _FocusTarget_1nxry_1 _ButtonMd_nt2r3_35 _ButtonBlue_nt2r3_76 _ButtonContained_nt2r3_111","100%","Solving....","addBookwork","._Question_1emtw_5._QuestionCentered_1emtw_49","Source 2","._OptionSelected_1emtw_634 > div > span > span.katex > span.katex-html > .base > .mord","changelogModal","text","scrollHeight","status","https://thorough-model-mutt.ngrok-free.app","maxWidth","preventDefault","cloneNode","set",".notification","classList","alt",'" style="color: #007bff; text-decoration: none;">',"Responding....","\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 650px;\n          background-color: white;\n          border: 1px solid #ccc;\n          border-radius: 8px;\n          box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);\n          z-index: 10000;\n        ","file","display","Version 1.6 • Bookworks Version 1.3 • Created with 💙 by an enjoyer of life","themes/","No empty div found in the bottom bar","answerButton",' <button data-package-id="',"12078450hqlpwZ","createElement","._QuestionCentered_1emtw_49","Nothing provided","push","155px","remove","data-theme","hasOwnProperty","Network response was not ok","._CardSlotActive_1emtw_899 span.katex-html","dark.css","._PackageLeft_s1pvn_28","Failed validation from API.","bookworksButton","toFixed","onerror","0.2s","INCOMING...","No explanation found",'" style="margin: 0;background-color: #dc3545;padding: 5px;width: 20px;height: 20px;border-radius: 100%;cursor: pointer;display: flex;align-items: center;justify-content: center;">\n                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 1.3rem; height: 1.3rem; color: #fff">\n                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />\n                        </svg>\n                    </button>\n                </li>\n            ',"._CardContent_1emtw_803 span.katex-mathml annotation","log","rel","data-index","answerCard","getElementById","modal-close","find","keys","/api/sparx/check?studentName=","div._StudentName_u9l2x_74","Responding...",'_answerContainer" class="answerContainer"></div>\n                    <p id="',"._DropdownMenuContent_1u1tt_41",'\n          <div style="\n            border-bottom: 1px solid #e4e6e7;\n            background-color: #f4f7f9;\n            border-radius: 8px 8px 0 0;\n            padding: 5px;\n          ">\n            <h3 style="margin: 0; font-size: 16px;">Development / Fixes</h3>\n          </div>\n          <span style="color: #0008;font-size: 12px;text-align: center;display: block;margin-bottom: -5px;margin-top: 10px;">This is the development section of SparxExt. This section can help fix bugs, but can cause devastating changes.</span>\n          <div style="padding: 12px; padding-top: 0;">\n            <div style="padding: 10px; border: 1px solid #000; margin-top: 10px; border-radius: 7px;">\n                <h2>Fix null bookworks</h2>\n                <p style="margin: 0">When updating, you may face issues with your bookworks getting corrupted. To fix these, you can force delete the bookworks using this button</p>\n                <button id="fixBookworks">Fix null bookworks</button>\n            </div>\n            <button id="closeDevModal">Close</button>\n          </div>\n        ',"innerText","brightness(0.5)","Error extracting bookwork details:","🔘✅","value","offsetTop","_answerContainer","mouseup","_Content_nt2r3_194","cssText","IntroSeen",".mord","split","question","error","removeChild","Uploaded Image","</a></li>","opacity","frac","INCOMING..","_stopwatch","screenshot.png","questionid","true",'_dragHandle" class="dragHandle">\n                    <svg id="',"warn","currentLoadingIndex","._ResultContainer_1ylu5_30._Correct_1ylu5_21","bottom","_dragHandle","Bookwork code or answers are undefined or empty. Skipping addition.","Bookwork code: ","script","Answer should be here by now","javascript:void(0)","Error fetching theme:","1640828FmAQcn","No question element found","5RUcVWt","childList","button[data-package-id][data-index]","from","length",";base64,","source3Button","Source 1","insertBefore","indexOf","match",'\n            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.5rem; height: 1.5rem; filter: drop-shadow(0 0 5px white);">\n                <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" />\n            </svg>\n        ','_answerContentContainer">\n                    <div id="',"._ZoomableImageContainer_1emtw_1004 > button",'\n            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.5rem; height: 1.5rem; filter: drop-shadow(0 0 5px white);">\n                <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />\n            </svg>\n\n        ',"._AnswerPart_1emtw_293","stringify","reload","clientX","appendChild","elapsedSeconds","753633pUINnt","isArray","INCOMING......","className","endsWith","IWDIJHFREUF","querySelector","Deleting","\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 500px;\n          background-color: white;\n          border: 1px solid #ccc;\n          border-radius: 8px;\n          box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);\n          z-index: 10000;\n        ","tabIndex","</p>\n                </div>\n            ","closest","button","repeat","slice","textContent","https://","Solving.......","1927590HyhIWs","setItem","/api/sparx/gettheme?theme=dark",'_stopwatch" class="stopwatch">0.00s</div>\n                </div>\n                <div style="padding: 12px; max-height: 600px; overflow-y: auto;" id="',"alignItems","Solving........","modal-continue","background-overlay","default",'\n            <li style="display: flex;font-size: 25px;justify-content: space-between;">\n                <span>',"json","Loading..",'\n            </ul>\n            <button id="closeThemeModal" style="\n              background-color: #007bff;\n              color: white;\n              border: none;\n              padding: 3px 13px;\n              border-radius: 4px;\n              cursor: pointer;\n              font-size: 13px;\n              text-align: center;\n              display: block;\n              margin: 0 auto;\n            ">Close</button>\n          </div>\n        ',"closeChangelogModal","innerHTML","left","25px","Uploading...",".sqrt","append","toUpperCase","Bookwork code element not found","Error capturing screenshot:","replace","click","image/png","Solving.","div._ButtonBase_nt2r3_1._FocusTarget_1nxry_1._ButtonMd_nt2r3_35._ButtonBlue_nt2r3_76._ButtonOutlined_nt2r3_129","addEventListener","Uploading.","themeStylesheet","newPackageId",'\n                <div style="display: flex; gap:7px; margin-top: 10px;">\n                    <input id="newPackageId" type="text" placeholder="Enter bookwork category">\n                    <input id="newBookwork" type="text" placeholder="Enter a new bookwork">\n                    <button id="addBookwork">\n                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 1.3rem; height: 1.3rem;">\n                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M7.5 7.5L12 3m0 0l4.5 4.5M12 3v13.5" />\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        ',"._Chip_bu06u_1._Selected_bu06u_13._Boxy_bu06u_75._Filled_bu06u_8._md_bu06u_84","get","_explanationText","POST","Make sure the WHOLE question is visible. To do this, press Control + [Minus] to zoom out.","modal-next","querySelectorAll","Please try again","It seems you don't have access yet. Please talk to monopro_ or enjoyeroflife on Discord.","source1Button","newBookwork","removeItem"];return(k=function(){return o})()}function V(o,e){const t=k();return(V=function(o,e){return t[o-=267]})(o,e)}let loadingInterval,currentLoadingIndex=0;async function runContentScript(){const o=kj,e=kM,t=kj,n=kN,s=kM,a=()=>{const o=V,e=V,t=V,n=V,s=V,a=document[o(365)](o(621));a.id=t(551),a[t(492)]=s(546),document[t(539)][o(458)](a);const r=document[n(365)](t(621));r.id=s(485),document[s(539)][o(458)](r),setTimeout((()=>{const t=e,n=s,c=o;a[t(332)][t(418)]=1,r[n(332)][t(418)]=1,setTimeout((()=>{const o=c,e=t,s=n,a=document[n(390)](o(484));a[e(332)][e(418)]=1,a[e(332)][s(541)]=e(572)}),2e3)}),10),document[t(390)](s(484))[s(506)](s(502),(()=>{const e=t,n=o;a[e(332)][e(418)]=0,setTimeout((()=>{const o=n,t=n,s=e,c=e;a[o(492)]=t(608),a[o(332)][s(418)]=1,document[c(390)](s(516))[c(506)](c(502),(()=>{const e=o,t=s;a[e(332)][t(418)]=0,setTimeout((()=>{const o=t,n=t,s=e,c=e,i=e;a[o(492)]=n(554),a[o(332)][s(418)]=1,document[o(466)](i(612))[n(332)][i(482)]=i(290),document[s(390)](c(391))[s(506)](c(502),(()=>{const e=i,t=n,s=o;a[e(332)][e(418)]=0,r[t(332)][e(418)]=0,setTimeout((()=>{const o=t,n=s,c=e;document[o(539)][o(415)](a),document[n(539)][c(415)](r)}),500)}))}),500)}))}),500)}))};localStorage[o(586)](e(410))||(a(),localStorage[e(479)](n(410),n(424)));const r=document[t(365)](s(433));r[n(584)]=chrome[o(603)][e(619)](n(579)),document[s(307)][o(458)](r);let c=0;const i={},l=async o=>{const t=s,a=n,r=n,l=n,p=e;console[t(386)]("📸");const g=t(566)+ ++c;i[g]={currentLoadingIndex:0,elapsedSeconds:0,timerInterval:null,loadingInterval:null};const h=document[r(466)](r(339));if(!h)return void console[r(414)](a(438));const k=document[t(390)](l(520)),w=document[r(390)](t(304));m("","",g);const f=document[l(390)](r(508));f&&f[l(370)]();try{await d(h);const e=await html2canvas(h,{useCORS:!0,allowTaint:!1,logging:!0}),n=u(e[a(573)](p(503))),s=new FormData,c=new FormData,f=new FormData;s[t(497)](l(540),o),s[a(497)](r(357),n,a(422)),chrome[l(305)][t(533)][a(512)](t(617),(o=>{const e=t,n=t,s=o[e(617)]||e(486);console[n(386)]("🎨",s),x(s)}));const _=r(395),v=document[a(466)](_);v||console[p(414)](l(318)+_+r(593));let b=function(o){const e=t,n=p,s=r,c=a,i=l,d=e(531);let u="";key=e(465);let m=key[s(473)](Math[c(314)](o[i(443)]/key[c(443)]))[c(498)]();for(let e=0;e<o[n(443)];e++){let t=d[n(448)](o[e]),s=d[i(448)](m[e]);u+=d[(t+s)%26]}return u}(v[l(400)][r(294)]()[r(501)](/[^a-zA-Z]/g,"")[l(498)]());s[l(497)](a(594),b),c[l(497)](p(594),b),f[l(497)](t(594),b);let y="";const S=document[a(466)](l(366));if(S){const e=S[p(466)](l(308));e&&(y=e[l(589)](r(584)));const t=S[r(349)](!0),n=t[r(466)](l(452));n&&n[r(370)]();let s=[t[r(400)][a(294)]()];""!==y&&s[r(368)](y),c[a(497)](l(413),s[p(544)]("\n")),c[l(497)](a(628),o),f[a(497)](p(413),s[r(544)]("\n"))}else console[l(414)](a(604)),c[l(497)](t(413),r(323));const I=await fetch(BASE_URL+l(291),{method:t(514),body:c}),B=await I[a(488)]();if(B[l(345)]&&B[l(624)]&&B[a(614)])return clearInterval(i[g][a(607)]),clearInterval(i[g][t(333)]),t(272)===o?k[a(598)]=!1:w[t(598)]=!1,void m(B[p(624)],B[a(614)],g);const C=await fetch(BASE_URL+p(585),{method:l(514),body:s});if(C.ok){const e=await C[p(488)]();if(console[p(386)]("📤",e),""===e[r(624)]&&(e[r(624)]=t(282)),""===e[a(614)]&&(e[r(614)]=p(383)),clearInterval(i[g][a(607)]),clearInterval(i[g][p(333)]),m(e[l(624)],e[p(614)],g),!B[a(345)]){f[l(497)](a(624),e[r(624)]),f[t(497)](a(614),e[a(614)]),f[t(497)](r(423),e[l(319)]),f[t(497)](r(628),o);const n=await fetch(BASE_URL+a(317),{method:t(514),body:f});console[p(386)]("📥",await n[l(343)]())}p(272)===o?k[r(598)]=!1:w[a(598)]=!1}else console[a(414)](l(569)),t(272)===o?k[r(598)]=!1:w[r(598)]=!1,m(l(569),p(518),g)}catch(e){console[l(414)](t(500),e),t(272)===o?k[t(598)]=!1:w[p(598)]=!1}},d=e=>{const t=n,a=s,r=o,c=n,i=e[t(517)](t(308));return Promise[a(302)](Array[c(442)](i)[t(270)]((o=>o[c(528)]?Promise[r(273)]():new Promise(((e,n)=>{const s=t;o[t(567)]=e,o[s(380)]=n})))))},u=e=>{const n=o,s=t,a=o,[r,c]=e[n(412)](s(444)),i=atob(c),l=r[n(412)](":")[1],d=new ArrayBuffer(i[n(443)]),u=new Uint8Array(d);for(let o=0;o<i[a(443)];o++)u[o]=i[a(309)](o);return new Blob([d],{type:l})},m=(e="",a="",r)=>{const c=t,l=s,d=o,u=t,m=n;let g=document[c(390)](r);if(!g){g=document[c(365)](c(621)),g.id=r,g[u(463)]=l(389),g[c(492)]=l(545)+r+c(425)+r+l(631)+r+c(481)+r+d(451)+r+m(397)+r+m(543)+a+c(470),document[m(539)][u(458)](g),document[d(390)](r+l(616))[c(506)](d(502),(()=>{const o=c,e=u,t=c;clearInterval(i[r][o(607)]),clearInterval(i[r][e(333)]),delete i[r],document[e(539)][t(415)](g)}));const o=document[l(390)](r+d(430));h(g,o),p(r)}const k=document[l(390)](r+c(406));if(e&&(clearInterval(i[r][d(333)]),clearInterval(i[r][d(607)])),e[c(535)](c(476))){const o=document[u(365)](m(308));o[c(584)]=e,o[l(353)]=c(416),o[c(332)][m(347)]=u(336),k[c(492)]="",k[m(458)](o)}else k[m(400)]=e;if(a[c(535)](l(476))){const o=document[l(365)](u(308));o[u(584)]=a,o[l(353)]=d(416),o[l(332)][l(347)]=c(336),document[u(390)](r+u(513))[c(492)]="",document[u(390)](r+c(513))[c(458)](o)}else document[l(390)](r+c(513))[u(400)]=a},p=o=>{const e=t,n=t;i[o][e(459)]=0,i[o][e(607)]=setInterval((()=>{const t=n,s=e,a=n;i[o][t(459)]+=.0075,document[s(390)](o+a(421))[a(400)]=i[o][s(459)][a(379)](1)+"s"}),10),i[o][n(333)]=setInterval((()=>g(o)),1e3)},g=e=>{const s=t,a=n,r=o,c=document[s(390)](e+a(406));if(c){const o=i[e][s(427)];c[r(400)]=loadingStates[o],i[e][a(427)]=(o+1)%loadingStates[s(443)]}},h=(e,t)=>{const n=o,s=o;let a=0,r=0,c=0,i=0;const l=o=>{const t=V,n=V,s=V,l=V,d=V;o[t(348)](),a=c-o[n(457)],r=i-o[n(310)],c=o[l(457)],i=o[l(310)],e[t(332)][s(578)]=e[t(405)]-r+"px",e[t(332)][l(493)]=e[d(283)]-a+"px"},d=()=>{const o=V,e=V,t=V;document[o(312)](e(562),l),document[o(312)](t(407),d)};t[n(506)](s(626),(o=>{const e=s,t=n,a=s,r=n;o[e(276)].id[e(464)](e(616))||(o[a(348)](),c=o[a(457)],i=o[t(310)],document[t(506)](e(562),l),document[r(506)](e(407),d))}))},k=()=>{const t=e,s=e,a=e,r=n,c=o,i=document[t(365)](t(621));i[t(332)][a(409)]=t(356),i[t(492)]=t(399),document[s(539)][c(458)](i),root=document[t(390)](t(576)),root[s(332)][r(278)]=t(401),document[c(390)](s(588))[c(506)](t(502),(()=>{const o=c,e=a,t=a;document[o(539)][o(415)](i),root[t(332)][t(278)]=e(561)})),document[c(390)](c(547))[r(506)](s(502),(()=>{const o=a,e=r,t=s,n=r;localStorage[o(586)](e(530))&&(localStorage[e(522)](t(530)),f(t(599))),localStorage[e(586)](t(321))&&(localStorage[o(522)](n(321)),f(o(287))),location[e(456)]()}))},w=()=>{const e=o,s=n,a=o,r=n,c=t,i=document[e(365)](s(621));i[a(332)][s(409)]=s(468),i[c(492)]=e(295)+[e(375),s(486)][r(270)]((o=>e(267)+o+a(354)+o+a(417)))[r(544)]("")+e(490),document[a(539)][e(458)](i),root=document[c(390)](s(576)),root[a(332)][a(278)]=s(401),i[a(517)]("a")[c(313)]((o=>{const e=a,t=r;o[e(506)](e(502),(o=>{const n=t,s=e,a=e,r=t,c=o[n(276)][n(589)](s(371));x(c),document[a(539)][s(415)](i),root[r(332)][s(278)]=r(561)}))})),document[e(390)](r(532))[c(506)](a(502),(()=>{const o=a;document[o(539)][o(415)](i),root[o(332)][o(278)]=o(561)}))},x=o=>{const n=s,a=e,r=s,c=t,i=e,l=document[n(390)](a(508));if(l&&l[r(370)](),r(486)!==o)if(n(375)===o)url=BASE_URL+n(480),fetch(url)[r(537)]((o=>o[r(488)]()))[c(537)]((o=>{const e=a,t=r,n=a,s=document[e(365)](e(332));s.id=t(508),s[n(492)]=o[n(328)],document[t(307)][n(458)](s)}))[i(525)]((o=>console[i(414)](i(436),o)));else{const e=document[c(365)](r(300));e.id=i(508),e[c(387)]=i(609),e[i(299)]=chrome[i(603)][r(619)](n(360)+o),document[i(307)][r(458)](e)}console[c(386)]("🎨",o),chrome[a(305)][a(533)][i(350)]({selectedTheme:o})};function f(s){const a=n,r=e,c=t,i=e,l=o;if(document[a(466)](a(351)))return;const d=document[r(365)](r(621));d[i(463)]=c(564),d[i(475)]=s||i(367),document[l(539)][l(458)](d),setTimeout((()=>{const o=a,e=c,t=i;d[o(332)][e(418)]=1,d[o(332)][e(541)]=t(568)}),10),setTimeout((()=>{const o=r,e=c,t=c,n=a;d[r(332)][o(418)]=0,d[e(332)][o(541)]=n(620),setTimeout((()=>d[t(370)]()),500)}),8e3)}setInterval((()=>{const r=n,c=n,i=e,d=n,u=s;document[r(466)](r(320))&&!document[i(390)](i(362))&&(()=>{const n=s,a=o,r=t,c=t,i=e,d=document[n(466)](a(605)),u=document[n(466)](n(505)),m=document[n(466)](a(523));if(Array[r(442)](document[c(517)](r(595)))[a(392)]((o=>o[a(400)][i(563)](r(624)))))return void console[a(386)](i(403));if(!m)return void console[r(414)](c(630));if(d){d[a(370)]();const o=document[i(365)](a(621));m[c(447)](o,m[r(296)])}else if(u){u[c(370)]();const o=document[n(365)](r(621));m[n(447)](o,m[i(296)])}let p=m[c(466)](r(560));p&&(p.id=c(277)),p||document[i(390)](i(362))||(console[c(414)](i(361)),p=document[n(365)](i(621)),p.id=c(277),m[c(447)](p,m[n(296)]));const g=document[a(365)](i(472));g[i(463)]=n(335),g.id=c(362),g[r(469)]=0;const h=document[c(365)](i(621));h[a(463)]=i(408),h[n(400)]=c(596);const k=document[c(365)](i(472));k[c(463)]=i(306),k.id=n(520),k[r(400)]=n(446),k[c(332)][a(284)]=n(571),k[c(332)][r(429)]=r(629),k[i(332)][i(493)]=c(494),k[r(332)][c(358)]=c(561),k[a(332)][a(548)]=i(542);const w=document[c(365)](c(472));w[i(463)]=c(306),w.id=c(304),w[c(400)]=r(340),w[n(332)][n(284)]=n(571),w[c(332)][r(429)]=i(577),w[c(332)][i(493)]=r(494),w[n(332)][i(358)]=c(561),k[c(332)][n(548)]=c(289);const x=document[n(365)](a(472));x[n(463)]=r(306),x.id=n(445),x[a(400)]=c(558),x[c(332)][i(284)]=i(571),x[r(332)][a(429)]=i(369),x[i(332)][c(493)]=n(494),x[n(332)][n(358)]=c(561),k[r(332)][i(548)]=a(289),p[r(458)](g),g[c(458)](h),p[i(458)](k),p[a(458)](w),p[r(458)](x),g[c(506)](i(502),(()=>{const o=i,e=a,t=i,n=i,s=r,c=o(622)===k[e(332)][o(358)];k[o(332)][e(358)]=c?o(561):s(622),w[t(332)][t(358)]=c?t(561):n(622),x[t(332)][o(358)]=c?o(561):n(622)})),k[r(506)](a(502),(()=>{const o=a;k[o(598)]=!0,l(o(272))})),w[r(506)](n(502),(()=>{const o=r;w[r(598)]=!0,l(o(580))})),x[c(506)](a(502),(()=>{const o=c;x[n(598)]=!0,l(o(275))}))})(),document[c(466)](r(398))&&!document[d(390)](i(526))&&(()=>{const o=c,e=d,t=u,n=r,s=document[o(466)](e(398)),a=document[o(365)]("a");a[o(463)]=o(529),a.id=o(526),a[e(299)]=t(435),a[o(492)]=o(327),s[o(458)](a),a[o(506)](n(502),w)})(),document[r(390)](u(378))||(()=>{const o=i,e=d,t=u,n=c,s=u,a=document[o(365)](o(472));a.id=e(378),a[o(492)]=s(450),document[t(539)][n(458)](a),a[e(506)](s(502),_)})(),document[r(390)](i(269))||(()=>{const o=r,e=c,t=d,n=i,s=document[o(365)](e(472));s.id=o(269),s[n(492)]=t(453),document[o(539)][n(458)](s),s[e(506)](n(502),a)})(),document[u(390)](r(285))||(()=>{const o=d,e=r,t=r,n=document[i(365)](o(472));n.id=e(285),n[t(492)]=t(271),document[e(539)][o(458)](n),n[e(506)](o(502),k)})()}),300),setInterval((function(){const o=e,n=s,a=t,r=e,c=document[o(466)](n(556)),i=document[n(466)](r(559));c&&i&&c[r(296)]!==i&&c[o(447)](i,c[a(296)])}),100),setInterval((()=>{const o=n;(function(){const o=V,e=V,t=document[V(466)](o(592));return!!t&&t[o(344)]>t[e(292)]})()&&f(o(515))}),5e3),chrome[s(305)][s(533)][n(512)](t(617),(e=>{const t=o,n=e[o(617)]||t(486);console[t(386)]("🎨",n),x(n)})),setInterval((()=>{const o=t,n=e,a=s,r=t,c=document[o(466)](o(268));if(c&&!document[a(390)](r(301))){const e=document[a(365)]("p");e.id=o(301),e[n(332)][r(409)]=r(527),e[r(400)]=a(359),c[n(458)](e)}}),500),document[t(506)](n(502),(n=>{const s=e,a=e,r=o,c=o,i=t;if(s(301)===n[s(276)].id){const o=document[r(365)](s(621));o.id=r(342),o[i(492)]=i(315),document[a(539)][i(458)](o);const e=document[r(390)](i(576));e[r(332)][s(278)]=r(401),document[c(390)](s(491))[r(506)](a(502),(()=>{const t=i,n=r,a=s;document[s(539)][t(415)](o),e[n(332)][a(278)]=n(561)}))}}));const _=()=>{const o=e,n=t,a=s,r=s,c=s,i=document[o(365)](o(621));console[o(386)]("📋");const l=document[n(390)](n(378));l[c(598)]=!0;let d=JSON[o(555)](localStorage[c(586)](n(530)))||{},u=JSON[o(555)](localStorage[c(586)](o(321)))||{};for(const e in d)if(d[n(372)](e)){console[o(386)](d[e]);const t=d[e];if(e&&Array[a(461)](t)&&0!==t[n(443)]){const o=t[c(278)]((o=>o[r(606)]));0===o[n(443)]?(delete d[e],delete u[e]):d[e]=o}else console[o(386)](o(467),e),console[n(386)](d[e]),delete d[e],delete u[e]}localStorage[n(479)](r(530),JSON[a(455)](d)),localStorage[o(479)](n(321),JSON[r(455)](u));let m="";for(const e in d){const t=Array[r(461)](d[e])?d[e][o(270)](((t,n)=>{const s=a,i=c,l=o,d=r;return s(487)+t[s(606)]+i(298)+((u=(u=t[l(624)])[l(501)](/\\,/g,""))[d(563)](i(419))&&(u=convert_fraction(u)),u)+d(293)+e+i(281)+n+l(384);var u}))[a(544)](""):"";m+=c(331)+e+o(363)+e+c(326)+t+o(613)}i.id=a(600),i[c(492)]=o(329)+m+r(510),document[o(539)][c(458)](i);const p=document[r(390)](n(576));p[a(332)][c(280)]=r(381),p[c(332)][n(278)]=c(590),document[o(390)](r(288))[o(506)](r(502),(()=>{const e=c,t=o;document[n(539)][e(415)](i),p[e(332)][e(278)]=e(561),l[t(598)]=!1})),document[n(390)](r(338))[n(506)](o(502),(()=>{const e=c,t=c,s=o,a=n,r=n,d=document[e(390)](e(509))[s(404)][e(294)](),u=document[a(390)](r(521))[a(404)][e(294)]();if(d&&u){console[a(386)](d,u);let o=JSON[s(555)](localStorage[r(586)](r(530)))||{};o[d]||(o[d]=[]),console[a(386)](a(627)+d),console[s(386)](o),o[d][s(368)]({bookwork:u,answer:""}),console[e(386)](o),localStorage[r(479)](a(530),JSON[r(455)](o)),console[t(386)](a(625)),document[r(539)][s(415)](i),l[s(598)]=!1,_()}})),i[n(506)](n(502),(o=>{const e=n,t=r,s=r,c=a,d=r,u=o[e(276)][e(471)](s(441));if(u){const o=u[s(589)](s(557)),n=u[t(589)](t(388));let a=JSON[d(555)](localStorage[s(586)](d(530)))||{};a[o]&&(a[o][c(552)](n,1),0===a[o][e(443)]&&delete a[o],localStorage[s(479)](t(530),JSON[s(455)](a)),document[e(539)][t(415)](i),l[d(598)]=!1,_())}})),i[a(506)](a(502),(e=>{const t=o,n=a,s=a,c=a,d=r,u=e[t(276)][n(471)](t(297));if(u){const o=u[s(589)](d(557));let e=JSON[c(555)](localStorage[d(586)](t(530)))||{};e[o]&&(delete e[o],localStorage[c(479)](s(530),JSON[n(455)](e)),document[t(539)][d(415)](i),l[n(598)]=!1,_())}}))};function v(){const e=o,t=n,a=n,r=n,c=s;try{const o=e(428),n=[e(454),t(615)],s=[r(341),r(524),c(385),r(374)],i=t(511);if(document[e(466)](o)){const o=document[t(466)](i);if(o){const i=o[t(400)][e(501)](a(432),"")[c(294)]();let l=[];if(n[t(313)]((o=>{const e=c,n=t;document[e(517)](o)[n(313)]((o=>{const t=e;s[t(313)]((e=>{const n=t,s=t;o[n(517)](e)[n(313)]((o=>{const e=s,t=n,a=n,r=n,c=s;let i="";o[e(583)](e(341))?(textContent="",o[e(517)](e(411))[r(313)]((o=>{const t=c,n=e,s=c,a=r;if(o[t(352)][n(534)](t(334))){let e=o[t(466)](a(311));e&&(textContent+="√"+e[t(475)])}else o[t(471)](s(496))||(textContent+=o[a(475)]);i=textContent}))):i=o[r(583)](a(524))?o[e(404)][c(294)]():o[r(475)][r(294)](),i&&(i=i[t(501)](/\\begin{bmatrix} /g,"["),i=i[e(501)](/\\end{bmatrix}/g,"]"),i=i[a(501)](/\\\\/g,", "),i=i[c(501)](/\\ times/g,"×"),i=i[t(501)](/\\times/g,"×"),i=i[r(501)](/\^{2}/g,"²"),i=i[r(501)](/\^{3}/g,"³"),i=i[t(501)](/\^{4}/g,"⁴"),i=i[t(501)](/\^{5}/g,"⁵"),i=i[e(501)](/\^{6}/g,"⁶"),i=i[t(501)](/\^2/g,"²"),i=i[t(501)](/\^3/g,"³"),i=i[e(501)](/\^4/g,"⁴"),i=i[t(501)](/\^5/g,"⁵"),i=i[c(501)](/\^6/g,"⁶"),i[t(535)]("{")&&i[e(464)]("}")&&(i=i[t(474)](1,-1)[t(294)]()),l[a(368)](i))}))}))}))})),!i||0===l[e(443)])return void console[r(426)](e(431));const d=window[r(565)][c(299)][r(449)](/package\/([a-f0-9-]+)/),u=d?d[1]:null;if(!u)return void console[t(426)](t(575));let m=JSON[c(555)](localStorage[t(586)](e(530)))||{};console[a(386)]("📚",m),m[u]||(m[u]=[],console[t(386)]("📦",u));const p=m[u][r(574)]((o=>o[a(606)]===i));-1!==p?m[u][p][c(624)]=l[e(544)](", "):m[u][e(368)]({bookwork:i,answer:l[c(544)](", ")}),localStorage[t(479)](t(530),JSON[a(455)](m))}else console[t(414)](t(499))}}catch(o){console[t(414)](t(402),o)}}setInterval((function(){const t=n,a=o,r=o,c=s,i=e;if(window[t(565)][t(299)][t(535)](t(601))){const o=JSON[i(555)](localStorage[r(586)](c(530)))||{},e=JSON[r(555)](localStorage[t(586)](t(321)))||{};Object[a(393)](o)[t(313)]((n=>{const s=t,a=t,r=i;let c=e[n]||function(o){const e=V,t=V,n=V,s=V,a=V,r=document[e(466)](e(550)+o+'"]');if(r){const o=r[n(623)][n(623)][a(623)][a(623)][t(623)][a(466)]("h3")[s(466)](n(376));if(o)return console[a(386)]("📦",o[t(475)]),o[e(475)]}return null}(n);if(c){e[n]=c;const t=o[n];delete o[n],o[c]||(o[c]=[]),o[c]=o[c][s(597)](t),localStorage[a(479)](s(530),JSON[s(455)](o)),localStorage[s(479)](a(321),JSON[r(455)](e))}}))}}),100),new MutationObserver((o=>{const s=t,a=n,r=e;for(let e of o)s(440)===e[a(540)]&&document[r(466)](r(428))&&v()}))[t(274)](document[n(539)],{childList:!0,subtree:!0})}!async function(){const o=kN,e=kM,t=kO,n=kO,s=kO;for(;!document[o(466)](o(395));)await new Promise((o=>setTimeout(o,500))),console[t(386)]("📛");const a=n(395),r=document[o(466)](a);if(!r)return void console[e(414)](o(318)+a+e(593));const c=r[e(400)][n(294)]()[e(501)](/[^a-zA-Z]/g,"")[o(498)]();chrome[e(305)][o(533)][t(350)]({name:c});const i=(new Date)[n(582)]();try{const a=new AbortController,r=setTimeout((()=>a[n(553)]()),1e4);BASE_URL=s(346),console[e(386)]("🔗",BASE_URL),url=BASE_URL+t(394)+c;const l=await fetch(url);if(clearTimeout(r),!l.ok)throw new Error(t(373));const d=await l[e(488)]();chrome[n(305)][e(533)][e(350)]({sparx_check:{status:d[t(345)],timestamp:i}}),d[s(345)]?runContentScript():(console[e(414)](t(377)),alert(o(519)))}catch(t){console[o(414)](e(303),t[o(279)])}}();