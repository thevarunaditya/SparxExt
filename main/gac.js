const _0x353e22=_0xe295;function _0x4461(){const e=["getAttribute","dark","_dragHandle","location","cloneNode","charCodeAt","a._PreviousButton_1nj91_86",'\n                            <div id="modal-header">\n                                <h3 class="modal-title">Other features of the extension</h3>\n                            </div>\n                            <div id="modal-content">\n                                <h2 class="modalh2">Themes</h2>\n                                <p class="modalp">Using the menu on the top right, switch between our hand-crafted themes.</p>\n                                <h2 class="modalh2">Bookworks</h2>\n                                <p class="modalp">Using the button in the bottom left of the screen, you can store your bookworks and quickly access them upon bookwork check.</p>\n                                <button id="modal-close">Close</button>\n                            </div>\n                        ',"._ZoomableImageContainer_azu81_1009 > button","._HiddenAt_gk0gx_1._Sm_gk0gx_12","clientY",'\n          <div style="\n            border-bottom: 1px solid #e4e6e7;\n            background-color: #f4f7f9;\n            border-radius: 8px 8px 0 0;\n            padding: 5px;\n          ">\n            <h3 style="margin: 0; font-size: 16px;">Select theme:</h3>\n          </div>\n          <div style="padding: 12px;">\n            <ul style="list-style: none; padding: 0; margin: 0; margin-bottom: 10px;">\n              ',"insertBefore","closeChangelogModal","trim","clientHeight",'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.5rem; height: 1.5rem; filter: drop-shadow(0 0 5px white);">\n            <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />\n        </svg>\n\n        ',"find","elapsedSeconds","question","javascript:void(0)","INCOMING...","filter","innerHTML","INCOMING..","map","rel",'" style="margin: 0;background-color: #dc3545;padding: 5px;width: 20px;height: 20px;border-radius: 100%;cursor: pointer;display: flex;align-items: center;justify-content: center;">\n                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 1.3rem; height: 1.3rem; color: #fff">\n                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />\n                        </svg>\n                    </button>\n                </li>\n            ',"translateY(10px)","15DolMQY","transition","._QuestionScrollableContent_1nj91_24","2075376NzDBcC","\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 500px;\n          background-color: white;\n          border: 1px solid #ccc;\n          border-radius: 8px;\n          box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);\n          z-index: 10000;\n        ",'\n            </ul>\n            <button id="closeThemeModal" style="\n              background-color: #007bff;\n              color: white;\n              border: none;\n              padding: 3px 13px;\n              border-radius: 4px;\n              cursor: pointer;\n              font-size: 13px;\n              text-align: center;\n              display: block;\n              margin: 0 auto;\n            ">Close</button>\n          </div>\n        ',"body","100%",'</h4>\n                <ul style="list-style: none; padding: 0; margin: 0; margin-bottom: 10px;">\n                    ',"_closeAnswerCard","complete","splice",'_answerContentContainer">\n                    <div id="',"scale(1)","mousemove","_Content_nt2r3_194","warn",'\n            <li style="display: flex;font-size: 25px;justify-content: space-between;">\n                <span>',"Please try again","type",'_answerContainer" class="answerContainer"></div>\n                    <p id="',"matches","button",'" style="color: #007bff; text-decoration: none;">',"closest","querySelectorAll","Solving.....","INCOMING.......","Solving..","ga$@*&BF",'a[href*="',"script","translateY(0)","_stopwatch","left","._OptionSelected_azu81_634","bookworksButton","closeThemeModal","https://thorough-model-mutt.ngrok-free.app","#aBC","name","explanation",'\n                    <div id="modal-header">\n                        <h3 class="modal-title">How to use this extension</h3>\n                    </div>\n                    <div id="modal-content">\n                        <ol class="modalol">\n                            <li class="modalli">Open your homework</li>\n                            <li class="modalli">Click the button on the bottom left which says "Need Help?"</li>\n                            <li class="modalli">Your answer will appear shortly</li>\n                        </ol>\n                        <button id="modal-next">Next</button>\n                    </div>\n                ',"/api/sparx/gettheme?theme=dark",'_stopwatch" class="stopwatch">0.00s</div>\n                </div>\n                <div style="padding: 12px; max-height: 600px; overflow-y: auto;" id="',"\n                </ul>\n            ","getURL","No question element found","https://","modal-next","style","disabled","Package ID not found in URL. Skipping addition.","INCOMING......","Retry with SRC2 (12-16s)","aBC","onload",'_dragHandle" class="dragHandle">\n                    <svg id="','\n                <div style="\n                    border-bottom: 1px solid #e4e6e7;\n                    background-color: #f4f7f9;\n                    border-radius: 8px 8px 0 0;\n                    padding: 5px;\n                ">\n                    <h3 style="margin: 0; font-size: 16px;">Changelog | v1.3</h3>\n                </div>\n                <div style="padding: 12px;">\n                    <ul style="list-style: none; padding: 0; margin: 0; margin-bottom: 10px;">\n                        <li class="changelogText">You can now have multiple popups at the same time</li>\n                        <li class="changelogText">Bookworks are now organized by homework (a teensy bit buggy)</li>\n                        <li class="changelogText">Fractions in bookworks look a bit less ugly</li>\n                        <li class="changelogText">Refactored answering mechanism to make it faster</li>\n                        <li class="changelogText">Tweaked styles</li>\n                        <li class="changelogText">Possible bug: bookwork category names might look a bit weird right now</li>\n\n                    </ul>\n                    <button id="closeChangelogModal">Close</button>\n                </div>\n            ',"162415dvxaFx","._QuestionInfo_5oh8x_1","Network response was not ok","innerText","640SzeTRD","toFixed","json","none","Uploading...","0.2s","flex-start","No answer found","69013XghUTQ","._ResultContainer_1ylu5_30._Correct_1ylu5_21","No empty div found in the bottom bar","INCOMING........","getItem","top","tabIndex","No explanation found","._Chip_bu06u_1._Selected_bu06u_13._Boxy_bu06u_75._Filled_bu06u_8._md_bu06u_84","INCOMING..........","newPackageId","toUpperCase","value","Question element not found","https://www.sparxmaths.uk/student/homework","Retry with SRC1 (3-7s)","Need help?","/api/sparx/storeanswer","helpers/h2c.js",'\n            <div style="\n                border-bottom: 1px solid #e4e6e7;\n                background-color: #f4f7f9;\n                border-radius: 8px 8px 0 0;\n                padding: 5px;\n                position: relative;\n            ">\n                <h3 style="margin: 0; font-size: 16px;">Bookworks</h3>\n                <button id="closeBookworksModal">Close</button>\n            </div>\n            <div style="padding: 12px;">\n                <h5 style="margin: 0;font-size: 13px;font-weight: 500;opacity: 0.3;margin-bottom: 5px;margin-top: -5px;">If one of the bookworks categories looks weird, it usually fixes when back on the homeworks page</h5>\n                ',"questionid","Error capturing screenshot:","data-index","href","message","querySelector","Failed validation from API.","._AnswerPart_azu81_293","._Question_azu81_5._QuestionCentered_azu81_49","join","cssText","catch","._Content_ocxs7_7","Failed to upload image","Uploading..","preventDefault","alignItems","all","INCOMING.........","Error extracting bookwork details:","</a></li>","error","modal-close"," not found","mouseup","concat","div","parse","status","/api/sparx/checkforanswer",'<li class="changelogText"><a href="javascript:void(0)" data-theme="',"set",'\n                <div id="',"image/png","Solving.......","Loading.","._CardContent_azu81_808 span.katex-mathml annotation","_Link_1u1tt_90","ceil","match","endsWith","div:empty","getTime","alt","link","Bookwork code element not found","appendChild","1181592HMGwaf","length","notification","2167143eUqkFP","._PackageLeft_s1pvn_28","includes","currentLoadingIndex",'\n                <h4 class="packageid">',"bookwork","src","Element ","helpButton","brightness(0.5)","#modal-content","Uploading.","._BottomBar_1wgpl_1 > div","div._ButtonBase_nt2r3_1._FocusTarget_1nxry_1._ButtonMd_nt2r3_35._ButtonBlue_nt2r3_76._ButtonOutlined_nt2r3_129","opacity",'\n                <div style="display: flex; gap:7px; margin-top: 10px;">\n                    <input id="newPackageId" type="text" placeholder="Enter bookwork category">\n                    <input id="newBookwork" type="text" placeholder="Enter a new bookwork">\n                    <button id="addBookwork">\n                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 1.3rem; height: 1.3rem;">\n                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M7.5 7.5L12 3m0 0l4.5 4.5M12 3v13.5" />\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        ',"bookworks","childList","true","resolve","button[data-package-id][data-index]","._QuestionCentered_azu81_49",'\n            <div id="modal-content">\n                <h1 class="modal-intro">Welcome to Sparx Helper</h1>\n                <button id="modal-continue" style="opacity: 0; transform: scale(0); transition: opacity 1s ease, transform 1s ease;">Continue</button>\n            </div>\n        ',"📊❌","text","stringify","offsetTop",'_explanationText" class="explanationText">',"removeChild","className","answerCard_","slice","default","question_id","Make sure the WHOLE question is visible. To do this, press Control + [Minus] to zoom out.","replace","IntroSeen","themesDropdown","newBookwork","INCOMING....",'" data-index="',"split","It seems you don't have access yet. Please talk to monopro_ or enjoyeroflife on Discord.","root","changelogModal","head","push","click","source","addBookwork","answerButton","textContent",'\n          <div class="_DropdownMenuItem_1u1tt_69" role="menuitem" data-orientation="vertical" data-radix-collection-item="">\n            <span>Themes</span>\n          </div>\n        ',"_explanationText","text-align: center; color: #4595F6; margin: 0; margin-top: 10px; cursor: pointer;","toDataURL","target","offsetLeft","then","removeEventListener","closeBookworksModal","_ButtonBase_nt2r3_1 _FocusTarget_1nxry_1 _ButtonMd_nt2r3_35 _ButtonBlue_nt2r3_76 _ButtonContained_nt2r3_111","Answer should be here by now","mousedown","ABCDEFGHIJKLMNOPQRSTUVWXYZ","Uploaded Image","themes/","firstChild","append","Verifying.","timerInterval","Solving.","maxWidth","POST",".notification","versionText","findIndex","frac","remove","Solving........","Verifying..","stylesheet","abort","screenshot.png",'\n          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.5rem; height: 1.5rem; filter: drop-shadow(0 0 5px white);">\n            <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" />\n            </svg>\n        ',"createElement","observe","Error:","Responding..","IWDIJHFREUF","Bookwork code: ","st@H#(@*#H","startsWith","Question not found","storage","._DropdownMenuContent_1u1tt_41","brightness(0.5) blur(5px)","data-package-id","answerCard","scrollHeight","🔘✅","transform","/api/sparx/upload","repeat","813680yiogeL","forEach","._TextField_azu81_333",'</span>\n                    <button data-package-id="','_closeAnswerCard" class="closeAnswerCard" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>\n                    </svg>\n                    <div id="',"keys","div._StudentName_u9l2x_74","log","answer","INCOMING.","Bookwork code or answers are undefined or empty. Skipping addition.","clientX","Solving....","modal","packageIdToTextMap","local","img","selectedTheme","addEventListener","setItem","data-theme","2278204qaocNv","from","indexOf","/api/sparx/check?studentName=","file","runtime","parentElement","Error fetching theme:","div._BottomBar_1wgpl_1 div","Responding....","onerror","_answerContainer","  |  ","Version 1.3 • Bookworks Version 1.1 • Created with 💙 by an enjoyer of life","dark.css","bookworksModal","loadingInterval","get","Loading..",";base64,","themeStylesheet","background-overlay","getElementById","Responding...","</p>\n                </div>\n            ","modal-continue"];return(_0x4461=function(){return e})()}let BASE_URL;!function(e,t){const o=_0xe295,n=_0x4461();for(;;)try{if(755972===parseInt(o(605))/1+parseInt(o(491))/2+-parseInt(o(687))/3+-parseInt(o(470))/4+-parseInt(o(546))/5*(-parseInt(o(549))/6)+-parseInt(o(617))/7*(parseInt(o(609))/8)+parseInt(o(684))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const loadingStates=[_0x353e22(435),_0x353e22(446),_0x353e22(698),_0x353e22(651),_0x353e22(613),_0x353e22(437),_0x353e22(574),_0x353e22(574),_0x353e22(482),_0x353e22(572),_0x353e22(572),_0x353e22(671),_0x353e22(445),_0x353e22(672),_0x353e22(509),_0x353e22(454),_0x353e22(514),_0x353e22(500),_0x353e22(479),_0x353e22(541),_0x353e22(538),_0x353e22(726),_0x353e22(726),_0x353e22(726),_0x353e22(599),_0x353e22(573),_0x353e22(620),_0x353e22(655),_0x353e22(626),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428),_0x353e22(428)];function _0xe295(e,t){const o=_0x4461();return(_0xe295=function(e,t){return o[e-=415]})(e,t)}let loadingInterval,currentLoadingIndex=0;async function runContentScript(){const e=_0x353e22,t=()=>{const e=_0xe295,t=document[e(451)](e(663));t.id=e(483),t[e(540)]=e(709),document[e(552)][e(683)](t);const o=document[e(451)](e(663));o.id=e(512),document[e(552)][e(683)](o),setTimeout((()=>{const n=e;t[n(596)][n(701)]=1,o[n(596)][n(701)]=1,setTimeout((()=>{const e=n,t=document[e(513)](e(516));t[e(596)][e(701)]=1,t[e(596)][e(467)]=e(559)}),2e3)}),10),document[e(513)](e(516))[e(488)](e(734),(()=>{const n=e;t[n(596)][n(701)]=0,setTimeout((()=>{const e=n;t[e(540)]=e(588),t[e(596)][e(701)]=1,document[e(513)](e(595))[e(488)](e(734),(()=>{const n=e;t[n(596)][n(701)]=0,setTimeout((()=>{const e=n;t[e(540)]=e(524),t[e(596)][e(701)]=1,document[e(642)](e(697))[e(596)][e(653)]=e(615),document[e(513)](e(659))[e(488)](e(734),(()=>{const n=e;t[n(596)][n(701)]=0,o[n(596)][n(701)]=0,setTimeout((()=>{const e=n;document[e(552)][e(715)](t),document[e(552)][e(715)](o)}),500)}))}),500)}))}),500)}))};localStorage[e(621)](e(723))||(t(),localStorage[e(489)](e(723),e(705)));const o=document[e(451)](e(577));o[e(693)]=chrome[e(496)][e(592)](e(635)),document[e(732)][e(683)](o);let n=0;const s={},a=async t=>{const o=e;console[o(477)]("📸");const a=o(717)+ ++n;s[a]={currentLoadingIndex:0,elapsedSeconds:0,timerInterval:null,loadingInterval:null};const u=document[o(642)](o(645));if(!u)return void console[o(658)](o(593));const m=document[o(513)](o(416)),p=m[o(642)](o(663));m[o(597)]=!0,d("","",a);const g=document[o(513)](o(511));g&&g[o(444)]();try{await c(u);const e=await html2canvas(u,{useCORS:!0,allowTaint:!1,logging:!0}),n=l(e[o(421)](o(670))),g=new FormData,_=new FormData,x=new FormData;g[o(434)](o(565),t),g[o(434)](o(495),n,o(449)),chrome[o(460)][o(485)][o(508)](o(487),(e=>{const t=o,n=e[t(487)]||t(719);console[t(477)]("🎨",n),h(n)}));const f=o(476),w=document[o(642)](f);w||console[o(658)](o(694)+f+o(660));let v=function(e){const t=o,n=t(430);let s="";key=t(455);let a=key[t(469)](Math[t(675)](e[t(685)]/key[t(685)]))[t(628)]();for(let o=0;o<e[t(685)];o++){let r=n[t(493)](e[o]),i=n[t(493)](a[o]);s+=n[(r+i)%26]}return s}(w[o(608)][o(531)]()[o(722)](/[^a-zA-Z]/g,"")[o(628)]());g[o(434)](o(586),v),_[o(434)](o(586),v),x[o(434)](o(586),v);let k="";const b=document[o(642)](o(708));if(b){const e=b[o(642)](o(486));e&&(k=e[o(517)](o(693)));const n=b[o(521)](!0),s=n[o(642)](o(525));s&&s[o(444)]();let a=[n[o(608)][o(531)]()];""!==k&&a[o(733)](k),_[o(434)](o(536),a[o(646)]("\n")),_[o(434)](o(735),t),x[o(434)](o(536),a[o(646)]("\n"))}else console[o(658)](o(630)),_[o(434)](o(536),o(459));const y=await fetch(BASE_URL+o(666),{method:o(439),body:_}),I=await y[o(611)]();if(I[o(665)]&&I[o(478)]&&I[o(587)])return clearInterval(s[a][o(436)]),clearInterval(s[a][o(507)]),d(I[o(478)],I[o(587)],a),m[o(597)]=!1,void(o(575)===t?(m[o(597)]=!1,p[o(608)]=o(600),m[o(425)](o(734),r),m[o(488)](o(734),i)):(m[o(597)]=!1,p[o(608)]=o(632),m[o(425)](o(734),i),m[o(488)](o(734),r)));const C=await fetch(BASE_URL+o(468),{method:o(439),body:g});if(C.ok){const e=await C[o(611)]();if(console[o(477)]("📤",e),""===e[o(478)]&&(e[o(478)]=o(616)),""===e[o(587)]&&(e[o(587)]=o(624)),clearInterval(s[a][o(436)]),clearInterval(s[a][o(507)]),d(e[o(478)],e[o(587)],a),!I[o(665)]){x[o(434)](o(478),e[o(478)]),x[o(434)](o(587),e[o(587)]),x[o(434)](o(637),e[o(720)]),x[o(434)](o(735),t);const n=await fetch(BASE_URL+o(634),{method:o(439),body:x});console[o(477)]("📥",await n[o(711)]())}o(575)===t?(m[o(597)]=!1,p[o(608)]=o(600),m[o(425)](o(734),r),m[o(488)](o(734),i)):(m[o(597)]=!1,p[o(608)]=o(632),m[o(425)](o(734),i),m[o(488)](o(734),r))}else console[o(658)](o(650)),m[o(597)]=!1,d(o(650),o(564),a)}catch(e){console[o(658)](o(638),e),m[o(597)]=!1}},r=()=>a(e(575)),i=()=>a(e(457)),c=t=>{const o=e,n=t[o(571)](o(486));return Promise[o(654)](Array[o(492)](n)[o(542)]((e=>e[o(556)]?Promise[o(706)]():new Promise(((t,n)=>{const s=o;e[s(602)]=t,e[s(501)]=n})))))},l=t=>{const o=e,[n,s]=t[o(728)](o(510)),a=atob(s),r=n[o(728)](":")[1],i=new ArrayBuffer(a[o(685)]),c=new Uint8Array(i);for(let e=0;e<a[o(685)];e++)c[e]=a[o(522)](e);return new Blob([i],{type:r})},d=(t="",o="",n)=>{const a=e;let r=document[a(513)](n);if(!r){r=document[a(451)](a(663)),r.id=n,r[a(716)]=a(464),r[a(540)]=a(669)+n+a(603)+n+a(474)+n+a(590)+n+a(558)+n+a(566)+n+a(714)+o+a(515),document[a(552)][a(683)](r),document[a(513)](n+a(555))[a(488)](a(734),(()=>{const e=a;clearInterval(s[n][e(436)]),clearInterval(s[n][e(507)]),delete s[n],document[e(552)][e(715)](r)}));const e=document[a(513)](n+a(519));p(r,e),u(n)}const i=document[a(513)](n+a(502));if(t&&(clearInterval(s[n][a(507)]),clearInterval(s[n][a(436)])),t[a(458)](a(594))){const e=document[a(451)](a(486));e[a(693)]=t,e[a(680)]=a(431),e[a(596)][a(438)]=a(553),i[a(540)]="",i[a(683)](e)}else i[a(608)]=t;if(o[a(458)](a(594))){const e=document[a(451)](a(486));e[a(693)]=o,e[a(680)]=a(431),e[a(596)][a(438)]=a(553),document[a(513)](n+a(419))[a(540)]="",document[a(513)](n+a(419))[a(683)](e)}else document[a(513)](n+a(419))[a(608)]=o},u=t=>{const o=e;s[t][o(535)]=0,s[t][o(436)]=setInterval((()=>{const e=o;s[t][e(535)]+=.0075,document[e(513)](t+e(579))[e(608)]=s[t][e(535)][e(610)](1)+"s"}),10),s[t][o(507)]=setInterval((()=>m(t)),1e3)},m=t=>{const o=e,n=document[o(513)](t+o(502));if(n){const e=s[t][o(690)];n[o(608)]=loadingStates[e],s[t][o(690)]=(e+1)%loadingStates[o(685)]}},p=(t,o)=>{const n=e;let s=0,a=0,r=0,i=0;const c=e=>{const o=_0xe295;e[o(652)](),s=r-e[o(481)],a=i-e[o(527)],r=e[o(481)],i=e[o(527)],t[o(596)][o(622)]=t[o(713)]-a+"px",t[o(596)][o(580)]=t[o(423)]-s+"px"},l=()=>{const e=_0xe295;document[e(425)](e(560),c),document[e(425)](e(661),l)};o[n(488)](n(429),(e=>{const t=n;e[t(422)].id[t(677)](t(555))||(e[t(652)](),r=e[t(481)],i=e[t(527)],document[t(488)](t(560),c),document[t(488)](t(661),l))}))},g=()=>{const t=e,o=document[t(451)](t(663));o[t(596)][t(647)]=t(550),o[t(540)]=t(528)+[t(505),t(719)][t(542)]((e=>t(667)+e+t(569)+e+t(657)))[t(646)]("")+t(551),document[t(552)][t(683)](o),root=document[t(513)](t(730)),root[t(596)][t(539)]=t(696),o[t(571)]("a")[t(471)]((e=>{const n=t;e[n(488)](n(734),(e=>{const t=n,s=e[t(422)][t(517)](t(490));h(s),document[t(552)][t(715)](o),root[t(596)][t(539)]=t(612)}))})),document[t(513)](t(583))[t(488)](t(734),(()=>{const e=t;document[e(552)][e(715)](o),root[e(596)][e(539)]=e(612)}))},h=t=>{const o=e,n=document[o(513)](o(511));if(n&&n[o(444)](),o(719)!==t)if(o(505)===t)url=BASE_URL+o(589),fetch(url)[o(424)]((e=>e[o(611)]()))[o(424)]((e=>{const t=o,n=document[t(451)](t(596));n.id=t(511),n[t(540)]=e[t(518)],document[t(732)][t(683)](n)}))[o(648)]((e=>console[o(658)](o(498),e)));else{const e=document[o(451)](o(681));e.id=o(511),e[o(543)]=o(447),e[o(640)]=chrome[o(496)][o(592)](o(432)+t),document[o(732)][o(683)](e)}console[o(477)]("🎨",t),chrome[o(460)][o(485)][o(668)]({selectedTheme:t})};setInterval((()=>{const o=e;document[o(642)](o(606))&&!document[o(513)](o(416))&&(()=>{const e=o,t=document[e(642)](e(523)),n=document[e(642)](e(700)),s=document[e(642)](e(499));if(Array[e(492)](document[e(571)](e(526)))[e(534)]((t=>t[e(608)][e(689)](e(478)))))return void console[e(477)](e(466));if(!s)return void console[e(658)](e(710));if(t){t[e(444)]();const o=document[e(451)](e(663));s[e(529)](o,s[e(433)])}else if(n){n[e(444)]();const t=document[e(451)](e(663));s[e(529)](t,s[e(433)])}let a=s[e(642)](e(678));a&&(a.id=e(601)),a||document[e(513)](e(416))||(console[e(658)](e(619)),a=document[e(451)](e(663)),a.id=e(601),s[e(529)](a,s[e(433)]));const i=document[e(451)](e(568));i[e(716)]=e(427),i.id=e(416),i[e(623)]=0;const c=document[e(451)](e(663));c[e(716)]=e(561),c[e(608)]=e(633),a[e(683)](i),i[e(683)](c),i[e(488)](e(734),r)})(),document[o(642)](o(461))&&!document[o(513)](o(724))&&(()=>{const e=o,t=document[e(642)](e(461)),n=document[e(451)]("a");n[e(716)]=e(674),n.id=e(724),n[e(640)]=e(537),n[e(540)]=e(418),t[e(683)](n),n[e(488)](e(734),g)})(),document[o(513)](o(582))||(()=>{const e=o,t=document[e(451)](e(568));t.id=e(582),t[e(540)]=e(450),document[e(552)][e(683)](t),t[e(488)](e(734),_)})(),document[o(513)](o(695))||(()=>{const e=o,n=document[e(451)](e(568));n.id=e(695),n[e(540)]=e(533),document[e(552)][e(683)](n),n[e(488)](e(734),t)})()}),300),setInterval((function(){const t=e,o=document[t(642)](t(699)),n=document[t(642)](t(585));o&&n&&o[t(433)]!==n&&o[t(529)](n,o[t(433)])}),100),setInterval((()=>{(function(){const e=_0xe295,t=document[e(642)](e(548));return!!t&&t[e(465)]>t[e(532)]})()&&function(){const e=_0xe295;if(document[e(642)](e(440)))return;const t=document[e(451)](e(663));t[e(716)]=e(686),t[e(417)]=e(721),document[e(552)][e(683)](t),setTimeout((()=>{const o=e;t[o(596)][o(701)]=1,t[o(596)][o(467)]=o(545)}),10),setTimeout((()=>{const o=e;t[o(596)][o(701)]=0,t[o(596)][o(467)]=o(578),setTimeout((()=>t[o(444)]()),500)}),8e3)}()}),5e3),chrome[e(460)][e(485)][e(508)](e(487),(t=>{const o=e,n=t[o(487)]||o(719);console[o(477)]("🎨",n),h(n)})),setInterval((()=>{const t=e,o=document[t(642)](t(649));if(o&&!document[t(513)](t(441))){const e=document[t(451)]("p");e.id=t(441),e[t(596)][t(647)]=t(420),e[t(608)]=t(504),o[t(683)](e)}}),500),document[e(488)](e(734),(t=>{const o=e;if(o(441)===t[o(422)].id){const e=document[o(451)](o(663));e.id=o(731),e[o(540)]=o(604),document[o(552)][o(683)](e);const t=document[o(513)](o(730));t[o(596)][o(539)]=o(696),document[o(513)](o(530))[o(488)](o(734),(()=>{const n=o;document[n(552)][n(715)](e),t[n(596)][n(539)]=n(612)}))}}));const _=()=>{const t=e,o=document[t(451)](t(663));console[t(477)]("📋");const n=document[t(513)](t(582));n[t(597)]=!0;const s=JSON[t(664)](localStorage[t(621)](t(703)))||{};let a="";for(const e in s){const o=s[e][t(542)](((o,n)=>{const s=t;return s(563)+o[s(692)]+s(503)+((a=(a=o[s(478)])[s(722)](/\\,/g,""))[s(689)](s(443))&&(a=convert_fraction(a)),a)+s(473)+e+s(727)+n+s(544);var a}))[t(646)]("");a+=t(691)+e+t(554)+o+t(591)}o.id=t(506),o[t(540)]=t(636)+a+t(702),document[t(552)][t(683)](o);const r=document[t(513)](t(730));r[t(596)][t(547)]=t(614),r[t(596)][t(539)]=t(462),document[t(513)](t(426))[t(488)](t(734),(()=>{const e=t;document[e(552)][e(715)](o),r[e(596)][e(539)]=e(612),n[e(597)]=!1})),document[t(513)](t(415))[t(488)](t(734),(()=>{const e=t,s=document[e(513)](e(627))[e(629)][e(531)](),a=document[e(513)](e(725))[e(629)][e(531)]();if(s&&a){let t=JSON[e(664)](localStorage[e(621)](e(703)))||{};t[s]||(t[s]=[]),t[s][e(733)]({bookwork:a,answer:""}),localStorage[e(489)](e(703),JSON[e(712)](t)),document[e(552)][e(715)](o),n[e(597)]=!1,_()}})),o[t(488)](t(734),(e=>{const s=t,a=e[s(422)][s(570)](s(707));if(a){const e=a[s(517)](s(463)),t=a[s(517)](s(639));let r=JSON[s(664)](localStorage[s(621)](s(703)))||{};r[e]&&(r[e][s(557)](t,1),0===r[e][s(685)]&&delete r[e],localStorage[s(489)](s(703),JSON[s(712)](r)),document[s(552)][s(715)](o),n[s(597)]=!1,_())}}))};function x(){const t=e;try{const e=t(618),o=[t(644)],n=[t(581),t(472),t(673)],s=t(625);if(document[t(642)](e)){const e=document[t(642)](s);if(e){const s=e[t(608)][t(722)](t(456),"")[t(531)]();let a=[];if(o[t(471)]((e=>{const o=t;document[o(571)](e)[o(471)]((e=>{const t=o;n[t(471)]((o=>{const n=t;e[n(571)](o)[n(471)]((e=>{const t=n;let o="";e[t(567)](t(581))?(o=e[t(417)][t(531)](),o[t(689)]("{")&&(o=o[t(728)]("{")[0][t(531)]())):o=e[t(567)](t(472))?e[t(629)][t(531)]():e[t(417)][t(531)](),o&&(o=o[t(722)](/\\begin{bmatrix} /g,"["),o=o[t(722)](/\\end{bmatrix}/g,"]"),o=o[t(722)](/\\\\/g,", "),o=o[t(722)](/\\ times/g,"×"),o=o[t(722)](/\\times/g,"×"),o=o[t(722)](/\^{2}/g,"²"),o=o[t(722)](/\^{3}/g,"³"),o=o[t(722)](/\^{4}/g,"⁴"),o=o[t(722)](/\^{5}/g,"⁵"),o=o[t(722)](/\^{6}/g,"⁶"),o=o[t(722)](/\^2/g,"²"),o=o[t(722)](/\^3/g,"³"),o=o[t(722)](/\^4/g,"⁴"),o=o[t(722)](/\^5/g,"⁵"),o=o[t(722)](/\^6/g,"⁶"),o[t(458)]("{")&&o[t(677)]("}")&&(o=o[t(718)](1,-1)[t(531)]()),a[t(733)](o))}))}))}))})),!s||0===a[t(685)])return void console[t(562)](t(480));const r=window[t(520)][t(640)][t(676)](/package\/([a-f0-9-]+)/),i=r?r[1]:null;if(!i)return void console[t(562)](t(598));let c=JSON[t(664)](localStorage[t(621)](t(703)))||{};c[i]||(c[i]=[]);const l=c[i][t(442)]((e=>e[t(692)]===s));-1!==l?c[i][l][t(478)]=a[t(646)](", "):c[i][t(733)]({bookwork:s,answer:a[t(646)](", ")}),localStorage[t(489)](t(703),JSON[t(712)](c))}else console[t(658)](t(682))}}catch(e){console[t(658)](t(656),e)}}setInterval((function(){const t=e;if(window[t(520)][t(640)][t(458)](t(631))){const e=JSON[t(664)](localStorage[t(621)](t(703)))||{},o=JSON[t(664)](localStorage[t(621)](t(484)))||{};Object[t(475)](e)[t(471)]((n=>{const s=t;let a=o[n]||function(e){const t=_0xe295,o=document[t(642)](t(576)+e+'"]');if(o){const e=o[t(497)][t(497)][t(497)][t(497)][t(497)][t(642)]("h3")[t(642)](t(688));if(e)return console[t(477)]("📦",e[t(417)]),e[t(417)]}return null}(n);if(a){o[n]=a;const t=e[n];delete e[n],e[a]||(e[a]=[]),e[a]=e[a][s(662)](t),localStorage[s(489)](s(703),JSON[s(712)](e)),localStorage[s(489)](s(484),JSON[s(712)](o))}}))}}),100),new MutationObserver((t=>{const o=e;for(let e of t)o(704)===e[o(565)]&&document[o(642)](o(618))&&x()}))[e(452)](document[e(552)],{childList:!0,subtree:!0})}!async function(){const e=_0x353e22;for(;!document[e(642)](e(476));)await new Promise((e=>setTimeout(e,500))),console[e(477)]("📛");const t=e(476),o=document[e(642)](t);if(!o)return void console[e(658)](e(694)+t+e(660));const n=o[e(608)][e(531)]()[e(722)](/[^a-zA-Z]/g,"")[e(628)]();chrome[e(460)][e(485)][e(668)]({name:n});const s=(new Date)[e(679)]();try{const t=new AbortController,o=setTimeout((()=>t[e(448)]()),1e4);BASE_URL=e(584),console[e(477)]("🔗",BASE_URL),url=BASE_URL+e(494)+n;const a=await fetch(url);if(clearTimeout(o),!a.ok)throw new Error(e(607));const r=await a[e(611)]();chrome[e(460)][e(485)][e(668)]({sparx_check:{status:r[e(665)],timestamp:s}}),r[e(665)]?runContentScript():(console[e(658)](e(643)),alert(e(729)))}catch(t){console[e(658)](e(453),t[e(641)])}}();